<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Réservation <%= reservation.idReservation %> - Hôtel California</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-50">
    <%- include('../partials/navbar') %>

        <div class="max-w-6xl mx-auto p-6">
            <h1 class="text-2xl font-bold mb-4">Réservation <%= reservation.idReservation %></h1>

            <div class="bg-white border p-6">
                <p class="mb-2"><strong>Numéro : </strong><%= reservation.idReservation %></p>
                <p class="mb-2"><strong>Client : </strong><%= reservation.idClient %></p>
                <p class="mb-2"><strong>Chambre : </strong><%= reservation.idChambre %></p>
                <% 
                  const now = new Date();
                  const start = new Date(reservation.dateDebut);
                  const end = new Date(reservation.dateFin);
                  let statut = '';
                  if (now < start) statut = 'À venir';
                  else if (now >= start && now <= end) statut = 'En cours';
                  else statut = 'Terminée';
                %>
                <p class="mb-2"><strong>Séjour : </strong>Du <%= reservation.getFormattedDateDebut() %> au <%= reservation.getFormattedDateFin() %></p>
                <p class="mb-4"><strong>Statut : </strong><%= statut %></p>

                <div class="flex gap-2 mt-4">
                    <a href="/reservations" class="bg-gray-800 text-white px-4 py-2 hover:bg-gray-700">Retour</a>
                    <a href="/reservations/<%= reservation.idReservation %>/edit" class="bg-gray-800 text-white px-4 py-2 hover:bg-gray-700">Modifier</a>
                    <a href="/reservations/<%= reservation.idReservation %>/delete" class="bg-red-600 text-white px-4 py-2 hover:bg-red-700">Supprimer</a>
                </div>
            </div>
        </div>
        <%- include('../partials/footer') %>
</body>

</html>